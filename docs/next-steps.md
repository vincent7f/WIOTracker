# WiFi Tracker 下一步开发计划

## 立即需要完成的任务

### 1. 创建应用图标和启动画面

**优先级**: 高

**任务**:
- 设计应用图标（不同尺寸：mdpi, hdpi, xhdpi, xxhdpi, xxxhdpi）
- 创建启动画面（Splash Screen）
- 添加应用图标到 `res/mipmap/` 目录

**文件位置**:
- `app/src/main/res/mipmap-*/ic_launcher.png`
- `app/src/main/res/mipmap-*/ic_launcher_round.png`

### 2. 测试和调试

**优先级**: 高

**任务**:
- 在真实设备上测试应用
- 测试WiFi扫描功能
- 测试WorkManager定时任务
- 测试权限请求流程
- 测试数据库操作
- 修复发现的bug

**测试重点**:
- 不同Android版本的兼容性
- 权限请求流程
- 后台任务执行
- 数据持久化
- UI交互

### 3. 处理边界情况

**优先级**: 中

**任务**:
- 处理WiFi未启用的情况
- 处理位置权限被拒绝的情况
- 处理时间范围设置错误的情况（开始时间>结束时间）
- 添加空状态提示
- 添加错误提示

**代码位置**:
- `WifiScanWorker.kt` - 添加错误处理
- `SettingsScreen.kt` - 添加输入验证
- `MainActivity.kt` - 处理权限拒绝情况

### 4. 添加用户反馈

**优先级**: 中

**任务**:
- 保存设置后显示成功提示（Snackbar）
- 扫描到WiFi时显示通知（可选）
- 添加加载状态指示
- 添加错误提示

**实现位置**:
- `SettingsScreen.kt` - 添加Snackbar
- `WifiScanWorker.kt` - 添加通知（如需要）

## 功能增强建议

### 1. 数据导出功能

**优先级**: 低

**功能**:
- 导出扫描记录为CSV文件
- 导出统计数据
- 分享功能

**实现**:
- 添加导出按钮
- 使用文件系统API
- 使用ShareSheet分享

### 2. 统计图表

**优先级**: 低

**功能**:
- 显示每日匹配次数趋势图
- 显示月度统计图表
- 使用图表库（如MPAndroidChart）

### 3. 通知功能

**优先级**: 中

**功能**:
- 扫描到匹配WiFi时发送通知
- 每日统计通知
- 通知设置开关

**实现**:
- 创建NotificationChannel
- 在WorkManager中发送通知
- 添加通知设置页面

### 4. 多WiFi支持

**优先级**: 低

**功能**:
- 支持设置多个WiFi关键词
- 分别统计每个WiFi的匹配次数
- 在打卡页面显示不同颜色

### 5. 数据备份和恢复

**优先级**: 低

**功能**:
- 备份扫描记录到文件
- 从文件恢复数据
- 自动备份功能

## 代码质量改进

### 1. 添加单元测试

**优先级**: 中

**任务**:
- ViewModel单元测试
- Repository单元测试
- 工具类单元测试

**测试框架**:
- JUnit 4
- Mockito
- Turbine (for Flow testing)

### 2. 添加UI测试

**优先级**: 低

**任务**:
- Compose UI测试
- 导航测试
- 交互测试

**测试框架**:
- Compose Test
- Espresso

### 3. 代码审查和重构

**优先级**: 中

**任务**:
- 代码审查
- 提取重复代码
- 优化性能
- 添加注释和文档

## 用户体验改进

### 1. 首次启动引导

**优先级**: 中

**功能**:
- 欢迎页面
- 功能说明
- 权限说明

**实现**:
- 使用SharedPreferences记录首次启动
- 创建引导页面

### 2. 设置验证

**优先级**: 高

**功能**:
- 验证WiFi名称不能为空
- 验证时间范围合理性（开始时间<结束时间）
- 显示验证错误提示

**实现位置**:
- `SettingsViewModel.kt` - 添加验证逻辑
- `SettingsScreen.kt` - 显示错误提示

### 3. 空状态优化

**优先级**: 中

**功能**:
- 日志页面空状态提示
- 打卡页面空状态提示
- 添加操作引导

## 性能优化

### 1. 数据库优化

**优先级**: 中

**任务**:
- 为timestamp字段添加索引
- 优化查询性能
- 考虑数据清理策略（保留最近N天）

### 2. UI性能优化

**优先级**: 低

**任务**:
- 使用LazyColumn优化列表性能
- 减少不必要的重组
- 使用remember优化计算

### 3. 后台任务优化

**优先级**: 中

**任务**:
- 优化WorkManager配置
- 减少电池消耗
- 添加任务执行统计

## 文档完善

### 1. 用户文档

**优先级**: 低

**任务**:
- 编写用户使用手册
- 添加FAQ
- 创建帮助页面

### 2. API文档

**优先级**: 低

**任务**:
- 使用KDoc添加函数注释
- 生成API文档

## 发布准备

### 1. 应用签名

**优先级**: 高

**任务**:
- 创建签名密钥
- 配置签名信息
- 测试签名APK

### 2. 版本管理

**优先级**: 中

**任务**:
- 设置版本号
- 编写更新日志
- 准备发布说明

### 3. 应用商店准备

**优先级**: 低

**任务**:
- 准备应用截图
- 编写应用描述
- 准备隐私政策
- 准备应用图标和横幅

## 推荐执行顺序

1. **第一阶段（立即）**:
   - ✅ 创建应用图标
   - ✅ 测试和调试
   - ✅ 添加设置验证
   - ✅ 处理边界情况

2. **第二阶段（短期）**:
   - 添加用户反馈（Snackbar）
   - 添加首次启动引导
   - 优化空状态
   - 添加单元测试

3. **第三阶段（中期）**:
   - 添加通知功能
   - 性能优化
   - 代码重构

4. **第四阶段（长期）**:
   - 数据导出功能
   - 统计图表
   - 多WiFi支持
   - 发布到应用商店

## 注意事项

1. **测试优先**: 在添加新功能前，确保现有功能稳定
2. **用户体验**: 始终考虑用户体验，保持界面简洁易用
3. **性能**: 注意应用性能，特别是数据库操作和UI渲染
4. **兼容性**: 确保在不同Android版本上都能正常工作
5. **隐私**: 注意用户隐私，不要收集不必要的权限和数据
